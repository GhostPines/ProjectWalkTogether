{"ast":null,"code":"var _jsxFileName = \"/Users/minsungsmac/Library/CloudStorage/OneDrive-Personal/ForCode/ProjectWalkTogether/projectwalktogether/src/pages/MapPage/Map/map.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useRecoilValue } from 'recoil';\nimport { useMap } from '../../../hooks/useMap';\nimport { dbState } from '../../../store/selector';\nimport * as S from '../Map/map.style';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  kakao\n} = window;\n\n// 카카오 객체를 window 객체의 interface에 추가\n\nconst MapContainer = () => {\n  _s();\n  const mapContainer = useRef(null); // 지도를 담을 영역의 DOM 레퍼런스\n  const [markerImage, setMarkerImage] = useState(null); // 마커 이미지\n  const [DB, setDB] = useRecoilValue(dbState);\n\n  // 전역 DB 불러오기\n\n  // 지도가 표시괼 HTML 요소\n\n  // 현재 클릭한 PostingId를 저장하는 state\n\n  const {\n    makeMap,\n    makeMarkers\n  } = useMap(mapContainer, setMarkerImage, markerImage, DB);\n\n  // * 첫 렌더링 시 지도 생성\n  useEffect(() => {\n    makeMap();\n  }, [makeMap]);\n\n  //* 아래 useEffect는 지도를 불러오는 함수\n  useEffect(() => {\n    const container = document.getElementById('showMap');\n    const options = {\n      center: new kakao.maps.LatLng(33.450701, 126.570667),\n      level: 3\n    };\n    const map = new kakao.maps.Map(container, options);\n  }, []);\n\n  //* DB가 변경되면 마커 생성\n  useEffect(() => {\n    makeMarkers();\n  }, [makeMarkers, markerImage]);\n  return /*#__PURE__*/_jsxDEV(S.Mapbox, {\n    id: \"showMap\",\n    ref: mapContainer\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 12\n  }, this);\n};\n_s(MapContainer, \"hngqJxWIOu/dv99eyBIIo1VibPg=\", false, function () {\n  return [useRecoilValue, useMap];\n});\n_c = MapContainer;\nexport default MapContainer;\nvar _c;\n$RefreshReg$(_c, \"MapContainer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useRecoilValue","useMap","dbState","S","kakao","window","MapContainer","mapContainer","markerImage","setMarkerImage","DB","setDB","makeMap","makeMarkers","container","document","getElementById","options","center","maps","LatLng","level","map","Map"],"sources":["/Users/minsungsmac/Library/CloudStorage/OneDrive-Personal/ForCode/ProjectWalkTogether/projectwalktogether/src/pages/MapPage/Map/map.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport * as ReactDOMServer from 'react-dom/server'\nimport { useParams } from 'react-router-dom'\n\nimport { useRecoilState, useRecoilValue } from 'recoil'\nimport { useMap } from '../../../hooks/useMap'\nimport { dbState } from '../../../store/selector'\n\nimport styled from 'styled-components'\nimport * as S from '../Map/map.style'\n\nconst { kakao } = window\n\n// 카카오 객체를 window 객체의 interface에 추가\ndeclare global {\n    interface Window {\n        kakao: any\n    }\n}\n\nconst MapContainer = () => {\n    const mapContainer = useRef(null) // 지도를 담을 영역의 DOM 레퍼런스\n    const [markerImage, setMarkerImage] = useState<any>(null) // 마커 이미지\n    const [DB, setDB] = useRecoilValue<any>(dbState)\n\n    // 전역 DB 불러오기\n\n    // 지도가 표시괼 HTML 요소\n\n    // 현재 클릭한 PostingId를 저장하는 state\n\n    const { makeMap, makeMarkers } = useMap(\n        mapContainer,\n        setMarkerImage,\n        markerImage,\n        DB\n    )\n\n    // * 첫 렌더링 시 지도 생성\n    useEffect(() => {\n        makeMap()\n    }, [makeMap])\n\n    //* 아래 useEffect는 지도를 불러오는 함수\n    useEffect(() => {\n        const container = document.getElementById('showMap')\n        const options = {\n            center: new kakao.maps.LatLng(33.450701, 126.570667),\n            level: 3,\n        }\n        const map = new kakao.maps.Map(container, options)\n    }, [])\n\n    //* DB가 변경되면 마커 생성\n    useEffect(() => {\n        makeMarkers()\n    }, [makeMarkers, markerImage])\n\n    return <S.Mapbox id=\"showMap\" ref={mapContainer}></S.Mapbox>\n}\n\nexport default MapContainer\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAI1D,SAAyBC,cAAc,QAAQ,QAAQ;AACvD,SAASC,MAAM,QAAQ,uBAAuB;AAC9C,SAASC,OAAO,QAAQ,yBAAyB;AAGjD,OAAO,KAAKC,CAAC,MAAM,kBAAkB;AAAA;AAErC,MAAM;EAAEC;AAAM,CAAC,GAAGC,MAAM;;AAExB;;AAOA,MAAMC,YAAY,GAAG,MAAM;EAAA;EACvB,MAAMC,YAAY,GAAGT,MAAM,CAAC,IAAI,CAAC,EAAC;EAClC,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAM,IAAI,CAAC,EAAC;EAC1D,MAAM,CAACW,EAAE,EAAEC,KAAK,CAAC,GAAGX,cAAc,CAAME,OAAO,CAAC;;EAEhD;;EAEA;;EAEA;;EAEA,MAAM;IAAEU,OAAO;IAAEC;EAAY,CAAC,GAAGZ,MAAM,CACnCM,YAAY,EACZE,cAAc,EACdD,WAAW,EACXE,EAAE,CACL;;EAED;EACAb,SAAS,CAAC,MAAM;IACZe,OAAO,EAAE;EACb,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;;EAEb;EACAf,SAAS,CAAC,MAAM;IACZ,MAAMiB,SAAS,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC;IACpD,MAAMC,OAAO,GAAG;MACZC,MAAM,EAAE,IAAId,KAAK,CAACe,IAAI,CAACC,MAAM,CAAC,SAAS,EAAE,UAAU,CAAC;MACpDC,KAAK,EAAE;IACX,CAAC;IACD,MAAMC,GAAG,GAAG,IAAIlB,KAAK,CAACe,IAAI,CAACI,GAAG,CAACT,SAAS,EAAEG,OAAO,CAAC;EACtD,CAAC,EAAE,EAAE,CAAC;;EAEN;EACApB,SAAS,CAAC,MAAM;IACZgB,WAAW,EAAE;EACjB,CAAC,EAAE,CAACA,WAAW,EAAEL,WAAW,CAAC,CAAC;EAE9B,oBAAO,QAAC,CAAC,CAAC,MAAM;IAAC,EAAE,EAAC,SAAS;IAAC,GAAG,EAAED;EAAa;IAAA;IAAA;IAAA;EAAA,QAAY;AAChE,CAAC;AAAA,GAvCKD,YAAY;EAAA,QAGMN,cAAc,EAQDC,MAAM;AAAA;AAAA,KAXrCK,YAAY;AAyClB,eAAeA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}